(this["webpackJsonpreact-faq-example"]=this["webpackJsonpreact-faq-example"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);n(61);var a=n(0),c=n.n(a),r=n(50),l=n.n(r),o=n(15),i=n(17),s=n(4),u=n.n(s),p=n(6),m=(n(67),n(68),n(21)),f=n(14),d=n(102),h=n(2),v=n(103),g=n(28),E=n(26),b=n.n(E),y=n(55);var k=function(){return c.a.createElement("div",null,c.a.createElement("h2",null,c.a.createElement(d.a,{id:"home.title"})),c.a.createElement("p",null,K({id:"home.declarative.p1"})))},j=n(25),O=n(42),x=n(43),w=n(49),C=n(48),N=n(51),S=n.n(N),H=n(52),_=n.n(H),q=n(53),D=n.n(q),I={cpHelpContainer:"_2ySa3",cpHelpUl:"_3NWx7",cpHelpListItem:"_1kbfq",cpHelpTitle:"_3bsWx",cpHelpCategoryText:"_11Kro",cpHelpCategoryIcon:"_3oPn0",cpHelpCategoryIconUp:"_19jG7",cpHelpCategoryIconDown:"_1SnGi",helpDockCloseIcon:"_38usM",cpHelpGoBack:"_12kBw",cpHelpGoBackArrow:"_3jSRh",helpDockSprite:"_-YGqq"};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var V=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).defaultDockConfig={isVisible:!1,dimMode:"opaque",size:300,dockStyle:{top:"auto",bottom:0,height:"60%",padding:"6px"}},a.handleVisibleChange=function(e){a.setState({isVisible:e})},a.handleSizeChange=function(e){a.setState({size:e})},a.state=Object(o.a)(Object(o.a)({data:[]},a.defaultDockConfig),{},{isVisible:e.isVisible}),a}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isVisible,a=t.dimMode,r=t.size,l=t.dockStyle,o=this.props.children;return c.a.createElement(S.a,{position:"right",isVisible:n,dimMode:a,fluid:!1,size:r,dimStyle:{background:"transparent"},dockStyle:l,onSizeChange:this.handleSizeChange,onVisibleChange:this.handleVisibleChange},c.a.createElement("span",{onClick:function(){return e.setState({isVisible:!n})}},c.a.createElement("button",{className:I.helpDockCloseIcon},c.a.createElement("svg",{class:"x-29px_svg__svgIcon-use",width:"29",height:"29"},c.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62","fill-rule":"evenodd"})))),o)}}]),n}(a.Component);function L(e){var t,n=e.faq,a=e.onClick,r=e.isNode,l=function(e){e.preventDefault(),e.stopPropagation();for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];a.apply(void 0,n)},o=(n.children||[]).map((function(e){return c.a.createElement(L,{key:e.id,faq:e,onClick:a,isNode:r,type:"child"})}));return c.a.createElement("li",{className:I.cpHelpListItem},c.a.createElement("div",{className:I.cpHelpCategoryTitle},c.a.createElement("a",{href:"#",className:I.cpHelpCategoryText,onClick:function(e){return l(e,n)}},n.label," ",n.id,c.a.createElement("span",{className:_()((t={},Object(j.a)(t,"".concat(I.helpDockSprite," ").concat(I.cpHelpCategoryIcon," ").concat(I.cpHelpCategoryIconUp),!r(n)&&n.active),Object(j.a)(t,"".concat(I.helpDockSprite," ").concat(I.cpHelpCategoryIcon," ").concat(I.cpHelpCategoryIconDown),!r(n)&&!n.active),t))}))),n.active&&n.children&&0===n.children.length&&"No content",n.active&&c.a.createElement("ul",{className:I.cpHelpUl},o))}function A(e){var t=e.data,n=void 0===t?[]:t,a=e.onClick,r=e.isNode;return c.a.createElement("ul",{className:I.cpHelpUl},n.map((function(e){return c.a.createElement(L,{key:e.id,faq:e,onClick:a,isNode:r})})))}function B(e){var t=e.faq,n=e.isLoadingContent,a=e.goBack;return c.a.createElement("div",null,c.a.createElement("div",{className:I.cpHelpGoBack,onClick:a},c.a.createElement("span",{className:I.cpHelpGoBackArrow+" "+I.helpDockSprite}),c.a.createElement("span",{className:I.cpHelpGoBackText},"Go back")),!n&&!t.children&&!t.content&&"No content",n?c.a.createElement("div",null,"Loading..."):t.content&&c.a.createElement("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:D.a.parse(t.content)}}))}function T(e){var t=e.data,n=e.title,r=e.loadChildren,l=e.loadContent,o=Object(a.useRef)(),i=Object(a.useState)([]),s=i[0],u=i[1],p=Object(a.useState)(),m=p[0],f=p[1],d=Object(a.useState)(!1),h=d[0],v=d[1];Object(a.useEffect)((function(){u(t)}),[t]),function(e,t,n){for(var c=arguments.length,r=new Array(c>3?c-3:0),l=3;l<c;l++)r[l-3]=arguments[l];Object(a.useEffect)((function(){var a=e.hasOwnProperty("current")?e.current:e;return a&&a.addEventListener.apply(a,[t,n].concat(r)),function(){a&&a.removeEventListener.apply(a,[t,n].concat(r))}}),[e,t,n,r])}(document,"click",(function(e){var t=e.target;if(t.hasAttribute("data-cp-help-dock")){var n=t.getAttribute("data-cp-faq-id");k(+n)}}));var g=function(e){return e&&!e.children},E=function e(t,n,a){return n.reduce((function(n,c){var r=c;if(c.id===t)r=P(P({},c),{},{active:!c.active||a});else if(c.children){c.children=e(t,c.children,a);var l=function e(t){return t.some((function(t){return g(t)?!0===t.active:e(t.children)}))}(c.children);l&&(c.active=l)}return n.push(r),n}),[])},b=function(e,t){var n=E(e,s,t);u(n)},y=function(e){try{var t=function(){if(l)return v(!0),Promise.resolve(l(e.id)).then((function(t){v(!1),e=P(P({},e),{},{content:t})}))}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},k=function(e){try{o.setState({isVisible:!0});var t=function(e,t){for(var n=[].concat(t);n.length>0;){var a=n.shift();if(a.id===e)return a;a.children&&n.push.apply(n,a.children)}return null}(e,s),n=function(){if(t){var n=function(){if(g(t))return Promise.resolve(y(t)).then((function(e){f(e)}));!function(e){b(e,!0)}(e)}();if(n&&n.then)return n.then((function(){}))}else f({id:"0000",content:'<div style="text-align: center;">Can\'t find item.</div>'})}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(a){return Promise.reject(a)}};return c.a.createElement(V,{ref:function(e){return o=e},isVisible:!1},c.a.createElement("div",{className:I.cpHelpContainer},c.a.createElement("h3",{className:I.cpHelpTitleT},n||"FAQ Dock"),g(m)?c.a.createElement(B,{faq:m,goBack:function(){f(null)},isLoadingContent:h}):0===s.length?c.a.createElement("div",null,"Loading..."):c.a.createElement(A,{data:s,onClick:function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],c=function(){if(a.children){var e=function(){b(a.id)},t=function(){if(r)return Promise.resolve(r(a.id)).then((function(e){console.log("children",e),a.children=e,u((function(e){return[].concat(e)}))}))}();return t&&t.then?t.then(e):e()}return Promise.resolve(y(a)).then((function(e){f(e)}))}();return Promise.resolve(c&&c.then?c.then((function(){})):void 0)}catch(l){return Promise.reject(l)}},isNode:g})))}var G=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),2e3);case 1:case"end":return e.stop()}}),e)})))()}),[]);var l=function(){var e=Object(p.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"/assets/data/en/faqs.json",e.next=3,b.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",t),"/assets/data/en/faq-content.json",e.next=4,l("/assets/data/en/faq-content.json");case 4:return n=e.sent,e.abrupt("return",n.content);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("span",null,c.a.createElement("div",{className:"cp-help-container"},c.a.createElement("h3",{className:"cp-help-title"},"FAQ Dock"),c.a.createElement("ul",{className:"cp-help-ul"},c.a.createElement("li",{className:"cp-help-list-item"},c.a.createElement("div",{className:"cp-help-category-title"},c.a.createElement("a",{className:"cp-help-category-text",href:"#"},"text",c.a.createElement("span",{className:"cp-help-category-icon cp-help-category-icon-up"}))),c.a.createElement("ul",{className:"cp-help-ul"},c.a.createElement("li",{className:"cp-help-list-item"},c.a.createElement("div",{className:"cp-help-category-title"},c.a.createElement("a",{className:"cp-help-category-text",href:"#"},"sub text",c.a.createElement("span",{className:"cp-help-category-icon cp-help-category-icon-up"})))))),c.a.createElement("li",{className:"cp-help-list-item"},c.a.createElement("div",{className:"cp-help-category-title"},c.a.createElement("a",{className:"cp-help-category-text",href:"#"},"text",c.a.createElement("span",{className:"cp-help-category-icon cp-help-category-icon-up"}))),c.a.createElement("ul",{className:"cp-help-ul"},c.a.createElement("li",{className:"cp-help-list-item"},c.a.createElement("div",{className:"cp-help-category-title"},c.a.createElement("a",{className:"cp-help-category-text",href:"#"},"sub text",c.a.createElement("span",{className:"cp-help-category-icon cp-help-category-icon-up"})))))))),c.a.createElement(T,{data:n,loadContent:o}))},M=n(56);var z=function(e){var t=e.loadContext,n=e.loading,r=Object(M.a)(e,["loadContext","loading"]),l=Object(f.f)(),o=Object(a.useState)(),s=Object(i.a)(o,2),m=s[0],d=s[1],h=Object(a.useState)(!1),v=Object(i.a)(h,2),g=v[0],E=v[1];return Object(a.useEffect)((function(){console.log("location changed to",l.pathname),Object(p.a)(u.a.mark((function e(){var n,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.config)){e.next=8;break}if(a=n.url,c=n.name,!t){e.next=8;break}return e.next=6,t(a,c,l.pathname);case 6:o=e.sent,d({context:o});case 8:E(!1),setTimeout((function(){E(!0)}),1e3);case 10:case"end":return e.stop()}}),e)})))()}),[l.pathname]),c.a.createElement("div",null,c.a.createElement(f.a,{path:r.path,exact:r.exact,render:function(e){return r.config&&!m?n():c.a.createElement(r.component,Object.assign({},e,m,{routes:r.routes,locationChanged:g}))}}))};function U(){return c.a.createElement("div",null,c.a.createElement(d.a,{id:"loading.message"}),"...")}var R=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/assets/locales/".concat(t,".json"),e.next=3,b.a.get(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=window.navigator.languages?window.navigator.languages[0]:null,t=e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage;return-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),console.log(e,t),t}()||"en",J=[{key:"en",label:"English"},{key:"zh",label:"Chinese"}],Q=Object(h.c)(),W=Object(v.a)({locale:F,messages:""},Q),K=W.formatMessage,Y=function(e,t){W=Object(v.a)({locale:e,messages:t},Q),K=W.formatMessage,document.documentElement.lang=e},X=function(e){return Object(y.a)((function(){return e}),{fallback:c.a.createElement(U,null)})};var Z=function(){var e=Object(a.useState)({locale:F,messages:""}),t=Object(i.a)(e,2),r=t[0],l=t[1],s=r.locale,h=r.messages;Object(a.useEffect)((function(){Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(F);case 2:t=e.sent,Y(F,t),l(Object(o.a)(Object(o.a)({},r),{},{locale:F,messages:t}));case 5:case"end":return e.stop()}}),e)})))()}),[]);var v=function(){var e=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("change language to",t),e.next=3,R(t);case 3:n=e.sent,Y(t,n),l(Object(o.a)(Object(o.a)({},r),{},{locale:t,messages:n}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(t);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return h?c.a.createElement(g.b,{value:W},c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement("select",{name:"locale",id:"locale",defaultValue:s,onChange:function(e){return v(e.target.value)}},J.map((function(e){return c.a.createElement("option",{key:e.key,value:e.key},e.label)})))),c.a.createElement("div",null,c.a.createElement("section",null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h2",null,c.a.createElement(d.a,{id:"home.welcome",values:{name:"React.js"}})),c.a.createElement("h3",null,c.a.createElement(d.a,{id:"home.declarative"}),c.a.createElement("button",{className:"help-link","data-cp-help-dock":!0,"data-cp-faq-id":"67"},"?")),c.a.createElement("p",null,c.a.createElement(d.a,{id:"home.declarative.p1"}))))),c.a.createElement(G,null),c.a.createElement("hr",null),c.a.createElement(m.a,null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(m.b,{to:"/"},c.a.createElement(d.a,{id:"home.link.home"}))),c.a.createElement("li",null,c.a.createElement(m.b,{to:"/demo"},c.a.createElement(d.a,{id:"home.link.demo"}))),c.a.createElement("li",null,c.a.createElement(m.b,{to:"/demo2"},c.a.createElement(d.a,{id:"home.link.demo2"})))),c.a.createElement(f.c,null,function(e){return[{path:"/",exact:!0,component:k},{path:"/demo",component:X(n.e(3).then(n.bind(null,104))),config:{url:"/assets/data/".concat(e,"/demo.json"),name:"Demo"}},{path:"/demo2",component:X(n.e(4).then(n.bind(null,105))),config:{url:"/assets/data/".concat(e,"/demo2.json"),name:"Demo2"}}]}(W.locale).map((function(e){return c.a.createElement(z,Object.assign({key:e.path},e,{loadContext:E,loading:function(){return c.a.createElement(U,null)}}))})))))):c.a.createElement("div",null,"Loading i18n...")};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Z,null)),document.getElementById("root"))},60:function(e,t,n){e.exports=n(101)},61:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){}},[[60,1,2]]]);
//# sourceMappingURL=main.049bfa25.chunk.js.map
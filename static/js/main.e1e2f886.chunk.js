(this["webpackJsonpreact-faq-example"]=this["webpackJsonpreact-faq-example"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);n(65);var a=n(0),r=n.n(a),c=n(52),i=n.n(c),o=n(8),l=n(11),u=n(3),s=n.n(u),f=n(7),d=(n(73),n(74),n(20)),m=n(15),h=n(112),v=n(2),p=n(113),b=n(29),g=n(26),E=n.n(g),j=n(59);var O=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(h.a,{id:"home.title"})),r.a.createElement("p",null,le({id:"home.declarative.p1"})))},k=n(30),x=n(24),w=n(43),y=n(44),C=n(51),_=n(50),N=n(54),S=n.n(N),q=n(55),V=n.n(q),P=n(56),L=n.n(P),z="_1CabL",M="_1_Cwg",A="_cf-Fi",D="_QVp2a",B="_1EoQm",T="_3E3zt",I="_2rzkY",Q="_35_er",F="_2NYU1",J="_3ufkN",R="_1Tr7V",Y="_2kdbx",G="_yyc71",H="_d4Dx7",U=function(e){Object(C.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).defaultDockConfig={isVisible:!1,dimMode:"opaque",size:300,dockStyle:{top:"auto",bottom:0,height:"60%",padding:"6px"}},a.handleVisibleChange=function(e){a.setState({isVisible:e})},a.handleSizeChange=function(e){a.setState({size:e})},a.state=Object(o.a)(Object(o.a)({data:[]},a.defaultDockConfig),{},{isVisible:e.isVisible}),a}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isVisible,a=t.dimMode,c=t.size,i=t.dockStyle,o=this.props.children;return r.a.createElement(S.a,{position:"right",isVisible:n,dimMode:a,fluid:!1,size:c,dimStyle:{background:"transparent"},dockStyle:i,onSizeChange:this.handleSizeChange,onVisibleChange:this.handleVisibleChange},r.a.createElement("span",{onClick:function(){return e.setState({isVisible:!n})}},r.a.createElement("button",{className:J},r.a.createElement("svg",{class:"x-29px_svg__svgIcon-use",width:"29",height:"29"},r.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62","fill-rule":"evenodd"})))),o)}}]),n}(a.Component);function K(e){var t,n=e.faq,a=e.onClick,c=e.isNode,i=function(e){e.preventDefault(),e.stopPropagation();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.apply(void 0,n)},o=(n.children||[]).map((function(e){return r.a.createElement(K,{key:e.id,faq:e,onClick:a,isNode:c,type:"child"})}));return r.a.createElement("li",{className:A},r.a.createElement("div",{className:B},r.a.createElement("a",{href:"#",className:T,onClick:function(e){return i(e,n)}},n.label," ",n.id,r.a.createElement("span",{className:V()((t={},Object(x.a)(t,"".concat(H," ").concat(I," ").concat(Q),!c(n)&&n.active),Object(x.a)(t,"".concat(H," ").concat(I," ").concat(F),!c(n)&&!n.active),t))}))),n.active&&n.children&&0===n.children.length&&"No content",n.active&&r.a.createElement("ul",{className:M},o))}function W(e){var t=e.data,n=void 0===t?[]:t,a=e.onClick,c=e.isNode;return r.a.createElement("ul",{className:M},n.map((function(e){return r.a.createElement(K,{key:e.id,faq:e,onClick:a,isNode:c})})))}function X(e){var t=e.faq,n=e.isLoadingContent,a=e.goBack;return r.a.createElement("div",null,r.a.createElement("div",{className:R,onClick:a},r.a.createElement("span",{className:Y+" "+H}),r.a.createElement("span",{className:G},"Go back")),!n&&!t.children&&!t.content&&"No content",n?r.a.createElement("div",null,"Loading..."):t.content&&r.a.createElement("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:L.a.parse(t.content)}}))}function Z(e){var t=e.data,n=e.title,c=e.loadChildren,i=e.loadContent,u=Object(a.useRef)(),s=Object(a.useState)([]),f=Object(l.a)(s,2),d=f[0],m=f[1],h=Object(a.useState)(),v=Object(l.a)(h,2),p=v[0],b=v[1],g=Object(a.useState)(!1),E=Object(l.a)(g,2),j=E[0],O=E[1];Object(a.useEffect)((function(){m(t)}),[t]),function(e,t,n){for(var r=arguments.length,c=new Array(r>3?r-3:0),i=3;i<r;i++)c[i-3]=arguments[i];Object(a.useEffect)((function(){var a=e.hasOwnProperty("current")?e.current:e;return a&&a.addEventListener.apply(a,[t,n].concat(c)),function(){a&&a.removeEventListener.apply(a,[t,n].concat(c))}}),[e,t,n,c])}(document,"click",(function(e){var t=e.target;if(t.hasAttribute("data-cp-help-dock")){var n=t.getAttribute("data-cp-faq-id");_(+n)}}));var x=function(e){return e&&!e.children},w=function e(t,n,a){return n.reduce((function(n,r){var c=r;if(r.id===t)c=Object(o.a)(Object(o.a)({},r),{},{active:!r.active||a});else if(r.children){r.children=e(t,r.children,a);var i=function e(t){return t.some((function(t){return x(t)?!0===t.active:e(t.children)}))}(r.children);i&&(r.active=i)}return n.push(c),n}),[])},y=function(e,t){var n=w(e,d,t);m(n)},C=function(e){try{var t=function(){if(i)return O(!0),Promise.resolve(i(e.id)).then((function(t){O(!1),e=Object(o.a)(Object(o.a)({},e),{},{content:t})}))}();return Promise.resolve(t&&t.then?t.then((function(){return e})):e)}catch(n){return Promise.reject(n)}},_=function(e){try{u.setState({isVisible:!0});var t=function(e,t){for(var n=Object(k.a)(t);n.length>0;){var a=n.shift();if(a.id===e)return a;a.children&&n.push.apply(n,Object(k.a)(a.children))}return null}(e,d),n=function(){if(t){var n=function(){if(x(t))return Promise.resolve(C(t)).then((function(e){b(e)}));!function(e){y(e,!0)}(e)}();if(n&&n.then)return n.then((function(){}))}else b({id:"0000",content:'<div style="text-align: center;">Can\'t find item.</div>'})}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(a){return Promise.reject(a)}};return r.a.createElement(U,{ref:function(e){return u=e},isVisible:!0},r.a.createElement("div",{className:z},r.a.createElement("h3",{className:D},n||"FAQ Dock"),x(p)?r.a.createElement(X,{faq:p,goBack:function(){b(null)},isLoadingContent:j}):0===d.length?r.a.createElement("div",null,"Loading..."):r.a.createElement(W,{data:d,onClick:function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=function(){if(a.children){var e=function(){y(a.id)},t=function(){if(c)return Promise.resolve(c(a.id)).then((function(e){console.log("children",e),a.children=e,m((function(e){return Object(k.a)(e)}))}))}();return t&&t.then?t.then(e):e()}return Promise.resolve(C(a)).then((function(e){b(e)}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}},isNode:x})))}var $=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){Object(f.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(f.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))),2e3);case 1:case"end":return e.stop()}}),e)})))()}),[]);var i=function(){var e=Object(f.a)(s.a.mark((function e(){var t,n,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"/react-faq/assets/data/en/faqs.json",e.next=3,E.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(f.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",t),"/react-faq/assets/data/en/faq-content.json",e.next=4,i("/react-faq/assets/data/en/faq-content.json");case 4:return n=e.sent,e.abrupt("return",n.content);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Z,{data:n,loadContent:o})},ee=n(60);var te=function(e){var t=e.loadContext,n=e.loading,c=Object(ee.a)(e,["loadContext","loading"]),i=Object(m.f)(),o=Object(a.useState)(),u=Object(l.a)(o,2),d=u[0],h=u[1],v=Object(a.useState)(!1),p=Object(l.a)(v,2),b=p[0],g=p[1];return Object(a.useEffect)((function(){console.log("location changed to",i.pathname),Object(f.a)(s.a.mark((function e(){var n,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=c.config)){e.next=8;break}if(a=n.url,r=n.name,!t){e.next=8;break}return e.next=6,t(a,r,i.pathname);case 6:o=e.sent,h({context:o});case 8:g(!1),setTimeout((function(){g(!0)}),1e3);case 10:case"end":return e.stop()}}),e)})))()}),[i.pathname]),r.a.createElement("div",null,r.a.createElement(m.a,{path:c.path,exact:c.exact,render:function(e){return c.config&&!d?n():r.a.createElement(c.component,Object.assign({},e,d,{routes:c.routes,locationChanged:b}))}}))};function ne(){return r.a.createElement("div",null,r.a.createElement(h.a,{id:"loading.message"}),"...")}var ae=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/assets/locales/".concat(t,".json"),e.next=3,E.a.get(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=window.navigator.languages?window.navigator.languages[0]:null,t=e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage;return-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),console.log(e,t),t}()||"en",ce=[{key:"en",label:"English"},{key:"zh",label:"Chinese"}],ie=Object(v.c)(),oe=Object(p.a)({locale:re,messages:""},ie),le=oe.formatMessage,ue=function(e,t){oe=Object(p.a)({locale:e,messages:t},ie),le=oe.formatMessage,document.documentElement.lang=e},se=function(e){return Object(j.a)((function(){return e}),{fallback:r.a.createElement(ne,null)})};var fe=function(){var e=Object(a.useState)({locale:re,messages:""}),t=Object(l.a)(e,2),c=t[0],i=t[1],u=c.locale,v=c.messages;Object(a.useEffect)((function(){Object(f.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(re);case 2:t=e.sent,ue(re,t),i((function(e){return Object(o.a)(Object(o.a)({},e),{},{locale:re,messages:t})}));case 5:case"end":return e.stop()}}),e)})))()}),[]);var p=function(){var e=Object(f.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("change language to",t),e.next=3,ae(t);case 3:n=e.sent,ue(t,n),i(Object(o.a)(Object(o.a)({},c),{},{locale:t,messages:n}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return v?r.a.createElement(b.b,{value:oe},r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("select",{name:"locale",id:"locale",defaultValue:u,onChange:function(e){return p(e.target.value)}},ce.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.label)})))),r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(h.a,{id:"home.welcome",values:{name:"React.js"}})),r.a.createElement("h3",null,r.a.createElement(h.a,{id:"home.declarative"}),r.a.createElement("button",{className:"help-link","data-cp-help-dock":!0,"data-cp-faq-id":"67"},"?")),r.a.createElement("p",null,r.a.createElement(h.a,{id:"home.declarative.p1"}))))),r.a.createElement($,null),r.a.createElement("hr",null),r.a.createElement(d.a,{basename:"/react-faq"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},r.a.createElement(h.a,{id:"home.link.home"}))),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/demo"},r.a.createElement(h.a,{id:"home.link.demo"}))),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/demo2"},r.a.createElement(h.a,{id:"home.link.demo2"})))),r.a.createElement(m.c,null,function(e){return[{path:"/",exact:!0,component:O},{path:"/demo",component:se(n.e(3).then(n.bind(null,114))),config:{url:"/assets/data/".concat(e,"/demo.json"),name:"Demo"}},{path:"/demo2",component:se(n.e(4).then(n.bind(null,115))),config:{url:"/assets/data/".concat(e,"/demo2.json"),name:"Demo2"}}]}(oe.locale).map((function(e){return r.a.createElement(te,Object.assign({key:e.path},e,{loadContext:g,loading:function(){return r.a.createElement(ne,null)}}))})))))):r.a.createElement("div",null,"Loading i18n...")};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root"))},64:function(e,t,n){e.exports=n(111)},65:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[64,1,2]]]);
//# sourceMappingURL=main.e1e2f886.chunk.js.map
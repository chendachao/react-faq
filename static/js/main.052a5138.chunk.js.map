{"version":3,"sources":["app/components/Home.js","../../src/FAQDock.js","../../src/FAQ.js","../../src/FAQList.js","../../src/FAQContent.js","../../src/FAQContainer.js","../../src/hooks/useEventListener.js","app/components/FAQDemo.js","InterceptorRoute.js","App.js","app/utils/index.js","index.js"],"names":["Home","id","fmt","constructor","defaultDockConfig","isVisible","dimMode","size","dockStyle","top","bottom","height","padding","data","props","this","children","position","fluid","dimStyle","background","onSizeChange","onVisibleChange","handleVisibleChange","onClick","className","styles","class","width","d","fill-rule","FAQ","isNode","handleOnClick","e","nestedFAQs","faq","key","type","href","classNames","active","FAQList","FAQContent","goBack","isLoadingContent","style","marginBottom","dangerouslySetInnerHTML","__html","marked","FAQContainer","loadContent","helpDockRef","useRef","useState","useEffect","setFaqs","target","listener","currentTarget","useEventListener","document","cpFaqId","openHelpDock","toggleActivity","items","newItem","item","canActive","hasActiveNode","child","acc","toggleNode","newFAQs","faqs","lazyLoadPossibleContent","setIsLoadingContent","content","nodes","tempArr","findNodeById","setCurrentNode","activeItem","ref","title","loadChildren","console","preFAQs","FAQDemo","setData","a","setTimeout","getFAQs","url","axios","get","response","log","InterceptorRoute","loadContext","loading","route","location","useLocation","context","setContext","locationChanged","setLocationChange","pathname","config","name","path","exact","render","component","routes","Loading","getI18nMessages","lang","initialLocale","window","navigator","languages","shortLang","language","browserLanguage","userLanguage","indexOf","split","getDefaultLang","label","cache","createIntlCache","intl","createIntl","locale","messages","formatMessage","updateIntl","documentElement","lazyLoadComponent","Lodable","fallback","App","state","setState","changeLanguage","newLocale","value","textAlign","defaultValue","onChange","event","map","values","data-cp-help-dock","data-cp-faq-id","basename","to","createRoutesConfig","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.052a5138.chunk.js","sourcesContent":["import React from 'react';\nimport { FormattedMessage } from \"react-intl\";\nimport { fmt } from \"../../App\";\n\nfunction Home() {\n  return (\n    <div>\n      <h2><FormattedMessage id=\"home.title\" /></h2>\n      <p>{fmt({id: \"home.declarative.p1\"})}</p>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { Component } from 'react'\nimport Dock from 'react-dock'\n\nimport styles from './styles.css'\n\nclass FAQDock extends Component {\n  defaultDockConfig = {\n    isVisible: false,\n    dimMode: 'opaque',\n    size: 300,\n    dockStyle: {\n      top: 'auto',\n      bottom: 0,\n      height: '60%',\n      padding: '6px'\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: [],\n      ...this.defaultDockConfig,\n      isVisible: props.isVisible\n      // dimMode: 'none',\n    }\n  }\n\n  render() {\n    const { isVisible, dimMode, size, dockStyle } = this.state\n    const { children } = this.props\n    return (\n      <Dock\n        position='right'\n        isVisible={isVisible}\n        dimMode={dimMode}\n        fluid={false}\n        size={size}\n        dimStyle={{ background: 'transparent' }}\n        dockStyle={dockStyle}\n        onSizeChange={this.handleSizeChange}\n        onVisibleChange={this.handleVisibleChange}\n      >\n        <span onClick={() => this.setState({ isVisible: !isVisible })}>\n          <button className={styles.helpDockCloseIcon}>\n            <svg class='x-29px_svg__svgIcon-use' width='29' height='29'>\n              <path\n                d='M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62'\n                fill-rule='evenodd'\n              ></path>\n            </svg>\n          </button>\n        </span>\n        {children}\n      </Dock>\n    )\n  }\n\n  handleVisibleChange = (isVisible) => {\n    this.setState({ isVisible })\n  }\n\n  handleSizeChange = (size) => {\n    this.setState({ size })\n  }\n}\n\nexport default FAQDock\n","import React from 'react'\nimport classNames from 'classnames'\n\nimport styles from './styles.css'\n\nfunction FAQ({ faq, onClick, isNode }) {\n  const handleOnClick = (e, ...args) => {\n    e.preventDefault()\n    e.stopPropagation()\n    onClick(...args)\n  }\n\n  const nestedFAQs = (faq.children || []).map((faq) => {\n    return (\n      <FAQ\n        key={faq.id}\n        faq={faq}\n        onClick={onClick}\n        isNode={isNode}\n        type='child'\n      />\n    )\n  })\n\n  // v^\n  return (\n    // <li style={{marginLeft: \"25px\", marginTop: \"10px\"}}>\n    <li className={styles.cpHelpListItem}>\n      <div className={styles.cpHelpCategoryTitle}>\n        <a\n          href='#'\n          className={styles.cpHelpCategoryText}\n          onClick={(e) => handleOnClick(e, faq)}\n        >\n          {faq.label} {faq.id}\n          <span\n            className={classNames({\n              [`${styles.helpDockSprite} ${styles.cpHelpCategoryIcon} ${styles.cpHelpCategoryIconUp}`]:\n                !isNode(faq) && faq.active,\n              [`${styles.helpDockSprite} ${styles.cpHelpCategoryIcon} ${styles.cpHelpCategoryIconDown}`]:\n                !isNode(faq) && !faq.active\n            })}\n          />\n        </a>\n      </div>\n\n      {faq.active && faq.children && faq.children.length === 0 && 'No content'}\n\n      {faq.active && <ul className={styles.cpHelpUl}>{nestedFAQs}</ul>}\n    </li>\n  )\n}\n\nexport default FAQ\n","import React from 'react'\nimport FAQ from './FAQ'\n\nimport styles from './styles.css'\n\nfunction FAQList({ data = [], onClick, isNode }) {\n  return (\n    <ul className={styles.cpHelpUl}>\n      {data.map((faq) => {\n        return <FAQ key={faq.id} faq={faq} onClick={onClick} isNode={isNode} />\n      })}\n    </ul>\n  )\n}\n\nexport default FAQList\n","import React from 'react'\nimport marked from 'marked'\n\nimport styles from './styles.css'\n\nfunction FAQContent({ faq, isLoadingContent, goBack }) {\n  return (\n    <div>\n      <div className={styles.cpHelpGoBack} onClick={goBack}>\n        <span\n          className={styles.cpHelpGoBackArrow + ' ' + styles.helpDockSprite}\n        />\n        <span className={styles.cpHelpGoBackText}>Go back</span>\n      </div>\n      {!isLoadingContent && !faq.children && !faq.content && 'No content'}\n      {isLoadingContent ? (\n        <div>Loading...</div>\n      ) : (\n        faq.content && (\n          <div\n            style={{ marginBottom: '10px' }}\n            dangerouslySetInnerHTML={{ __html: marked.parse(faq.content) }}\n          />\n        )\n      )}\n    </div>\n  )\n}\n\nexport default FAQContent\n","import React, { useState, useEffect, useRef } from 'react'\nimport FAQDock from './FAQDock'\nimport FAQList from './FAQList'\nimport FAQContent from './FAQContent'\nimport { useEventListener } from './hooks'\n\nimport styles from './styles.css'\n\nfunction FAQContainer({ data, title, loadChildren, loadContent }) {\n  let helpDockRef = useRef()\n  const [faqs, setFaqs] = useState([])\n  const [currentNode, setCurrentNode] = useState()\n  const [isLoadingContent, setIsLoadingContent] = useState(false)\n\n  useEffect(() => {\n    setFaqs(data)\n  }, [data])\n\n  useEventListener(document, 'click', (e) => {\n    const { target } = e\n\n    // const isHanlder = target.classList.contains('cp-help') && target.classList.contains('cp-help-link');;\n    const isHanlder = target.hasAttribute('data-cp-help-dock')\n\n    if (isHanlder) {\n      const cpFaqId = target.getAttribute('data-cp-faq-id')\n      openHelpDock(+cpFaqId)\n    }\n  })\n\n  const isNode = (faq) => {\n    return faq && !faq.children\n  }\n\n  const hasActiveNode = (children) => {\n    return children.some((child) => {\n      if (isNode(child)) {\n        return child.active === true\n      } else {\n        return hasActiveNode(child.children)\n      }\n    })\n  }\n\n  // active/deactive item recursively\n  const toggleActivity = (id, items, active /*default*/) => {\n    return items.reduce((acc, item) => {\n      let newItem = item\n      if (item.id === id) {\n        newItem = {\n          ...item,\n          active: !item.active || active\n        }\n      } else if (item.children) {\n        item.children = toggleActivity(id, item.children, active)\n        const canActive = hasActiveNode(item.children)\n        canActive && (item.active = canActive)\n      }\n      acc.push(newItem)\n      return acc\n    }, [])\n  }\n\n  const findNodeById = (id, nodes) => {\n    const tempArr = [...nodes]\n    while (tempArr.length > 0) {\n      const item = tempArr.shift()\n      if (item.id === id) {\n        return item\n      } else if (item.children) {\n        tempArr.push(...item.children)\n      }\n    }\n    return null\n  }\n\n  const toggleNode = (id, active) => {\n    const newFAQs = toggleActivity(id, faqs, active)\n    setFaqs(newFAQs)\n  }\n\n  const activeItem = (id) => {\n    toggleNode(id, true)\n  }\n\n  const lazyLoadPossibleContent = async (item) => {\n    if (loadContent) {\n      setIsLoadingContent(true)\n      const content = await loadContent(item.id)\n      setIsLoadingContent(false)\n      item = {\n        ...item,\n        content\n      }\n    }\n    return item\n  }\n\n  const openHelpDock = async (id) => {\n    helpDockRef.setState({ isVisible: true })\n    const item = findNodeById(id, faqs)\n    if (!item) {\n      setCurrentNode({\n        id: '0000',\n        content: `<div style=\"text-align: center;\">Can't find item.</div>`\n      })\n    } else if (isNode(item)) {\n      let newFaq = await lazyLoadPossibleContent(item)\n      setCurrentNode(newFaq)\n    } else {\n      activeItem(id)\n    }\n  }\n\n  const goBack = () => {\n    setCurrentNode(null)\n  }\n\n  const handleOnClick = async (...args) => {\n    const [faq] = args\n    if (!faq.children) {\n      // node\n      let newFaq = await lazyLoadPossibleContent(faq)\n      setCurrentNode(newFaq)\n    } else {\n      // load children\n      if (loadChildren) {\n        const children = await loadChildren(faq.id)\n        console.log('children', children)\n        faq.children = children\n        setFaqs((preFAQs) => [...preFAQs])\n      }\n      toggleNode(faq.id)\n    }\n  }\n\n  return (\n    <FAQDock ref={(e) => (helpDockRef = e)} isVisible={true}>\n      <div className={styles.cpHelpContainer}>\n        <h3 className={styles.cpHelpTitle}>{title || 'FAQ Dock'}</h3>\n        {isNode(currentNode) ? (\n          <FAQContent\n            faq={currentNode}\n            goBack={goBack}\n            isLoadingContent={isLoadingContent}\n          />\n        ) : faqs.length === 0 ? (\n          <div>Loading...</div>\n        ) : (\n          <FAQList data={faqs} onClick={handleOnClick} isNode={isNode} />\n        )}\n      </div>\n    </FAQDock>\n  )\n}\n\nexport default FAQContainer\n","import { useEffect } from 'react';\n\n// https://dev.to/adrianbdesigns/custom-react-hooks-useeventlistener-1kp\nexport const useEventListener = (target, type, listener, ...options) => {\n  useEffect(\n    () => {\n      const targetIsRef = target.hasOwnProperty(\"current\");\n      const currentTarget = targetIsRef ? target.current : target;\n      if (currentTarget)\n        currentTarget.addEventListener(type, listener, ...options);\n      return () => {\n        if (currentTarget)\n          currentTarget.removeEventListener(type, listener, ...options);\n      };\n    },\n    [target, type, listener, options]\n  );\n};\n\n\n\n","import React, {useState, useEffect} from 'react';\nimport axios from \"axios\";\n\nimport {FAQContainer} from 'react-faq';\n\nfunction FAQDemo() {\n\n  const [data, setData] = useState([]);\n\n   // load data at first mount\n   useEffect(() => {\n    (async () => {\n      setTimeout(async () => {\n        const data = await getFAQs();\n        setData(data);\n      }, 2000);\n    })();\n  }, []);\n\n  const getFAQs = async (url = '/react-faq/assets/data/en/faqs.json') => {\n    const response = await axios.get(url);\n    return response.data;\n  }\n\n  // const loadChildren = async (id) => {\n  //   console.log('id', id);\n  //   const url = '/react-faq/assets/data/en/faqs-children.json';\n  //   const children = await getFAQs(url);\n  //   return children;\n  // }\n\n  const loadContent = async (id) => {\n    console.log('id', id);\n    const url = '/react-faq/assets/data/en/faq-content.json';\n    const data = await getFAQs(url);\n    return data.content;\n  }\n\n  return (\n    <FAQContainer data={data} loadContent={loadContent}/>\n  )\n\n}\n\nexport default FAQDemo;\n","import React, {useEffect, useState} from 'react';\nimport { Route, useLocation } from 'react-router-dom';\n\nfunction InterceptorRoute({loadContext, loading, ...route}) {\n\n  const location = useLocation();\n  const [context, setContext] = useState();\n\n  const [locationChanged, setLocationChange] = useState(false);\n\n  useEffect(() => {\n    console.log('location changed to', location.pathname);\n    (async () => {\n      // setTimeout(async () => {\n        const {config} = route;\n        if (config) {\n          const {url, name} = config;\n          if(loadContext) {\n            const data = await loadContext(url, name, location.pathname);\n            setContext({\n              context: data\n            });\n          }\n        }\n      // }, 1000);\n\n      setLocationChange(false);\n      setTimeout(() => {\n        setLocationChange(true);\n      }, 1000);\n\n    })();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <div>\n      <Route\n          path={route.path}\n          exact={route.exact}\n          render={props => {\n            if(route.config && !context) {\n              return loading();\n            }\n            return (\n              <route.component {...props} {...context}\n                routes={route.routes}\n                locationChanged={locationChanged}/>\n            )\n          }}\n      />\n    </div>\n  )\n}\n\nexport default InterceptorRoute;\n","// import React from 'react'\n\n// import { ExampleComponent } from 'react-faq'\n// import 'react-faq/dist/index.css'\n\n// const App = () => {\n//   return <ExampleComponent text=\"Create React Library Example 😄\" />\n// }\n\n// export default App\n\nimport './App.css';\nimport 'react-faq/dist/index.css'\n\nimport React, { useState, useEffect }  from 'react';\nimport {\n  // BrowserRouter as Router,\n  HashRouter as Router,\n  Switch,\n  Link,\n} from 'react-router-dom';\n\nimport {\n  createIntl,\n  createIntlCache,\n  RawIntlProvider,\n  FormattedMessage,\n} from 'react-intl';\nimport axios from 'axios';\n\nimport Lodable from \"@loadable/component\";\nimport Home from './app/components/Home';\nimport FAQDemo from \"./app/components/FAQDemo\";\nimport InterceptorRoute from \"./InterceptorRoute\";\nimport { getDefaultLang } from \"./app/utils\";\n\nexport function Loading() {\n  return <div><FormattedMessage id=\"loading.message\"/>...</div>\n}\n\nconst getI18nMessages = async lang => {\n  const url = `/react-faq/assets/locales/${lang}.json`;\n  const response = await axios.get(url);\n  // console.log('data', response.data);\n  return response.data;\n};\n\nconst initialLocale = getDefaultLang() || 'en';\n\nconst languages = [\n  {\n    key: 'en',\n    label: 'English',\n  },\n  {\n    key: 'zh',\n    label: 'Chinese',\n  },\n];\n\nexport const cache = createIntlCache();\n\n/** You can use this variable in other files even after reassigning it. */\nexport let intl = createIntl(\n  {locale: initialLocale, messages: ''},\n  cache\n)\n\nexport let fmt = intl.formatMessage;\n\nconst updateIntl = (locale, messages) => {\n  intl = createIntl(\n    {locale, messages},\n    cache\n  )\n  fmt = intl.formatMessage;\n  document.documentElement.lang = locale;\n}\n\nconst lazyLoadComponent = component =>\n  Lodable(() => component, {\n    fallback: <Loading/>\n  })\n\nconst createRoutesConfig = (locale) => {\n  const routes = [\n    {\n      path: '/',\n      exact: true,\n      component: Home,\n    },\n    {\n      path: '/demo',\n      component: lazyLoadComponent(import('./app/components/Demo')),\n      config: {\n        url: `/react-faq/assets/data/${locale}/demo.json`,\n        name: 'Demo'\n      }\n    },\n    {\n      path: '/demo2',\n      component: lazyLoadComponent(import('./app/components/Demo2')),\n      config: {\n        url: `/react-faq/assets/data/${locale}/demo2.json`,\n        name: 'Demo2'\n      }\n    },\n  ];\n  return routes;\n}\n\nfunction App() {\n\n   // You could use redux to get the locale or get it from the url.\n   const [state, setState] = useState({\n    locale: initialLocale,\n    messages: ''\n  });\n  const { locale, messages } = state;\n\n  // first update\n  useEffect(() => {\n    (async () => {\n      const messages = await getI18nMessages(initialLocale)\n      updateIntl(initialLocale, messages);\n      setState(state => ({\n        ...state,\n        locale: initialLocale,\n        messages,\n      }));\n    })();\n  }, []);\n\n  const changeLanguage = async newLocale => {\n    console.log('change language to', newLocale);\n    const messages = await getI18nMessages(newLocale);\n    updateIntl(newLocale, messages);\n    setState({\n      ...state,\n      locale: newLocale,\n      messages,\n    });\n  };\n\n  const loadContext = async (url, component, path) => {\n    const response = await axios.get(url);\n    return response.data;\n  }\n\n  if(!messages) {\n    return <div>Loading i18n...</div>;\n  } else {\n    return (\n      <RawIntlProvider value={intl}>\n        <div style={{ textAlign: 'right' }}>\n          <select\n            name=\"locale\"\n            id=\"locale\"\n            defaultValue={locale}\n            onChange={event => changeLanguage(event.target.value)}>\n            {languages.map(lang => (\n              <option key={lang.key} value={lang.key}>\n                {lang.label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n\n          <section>\n            <div>\n              <div>\n                <h2><FormattedMessage id=\"home.welcome\" values={{name: 'React.js'}} /></h2>\n                <h3><FormattedMessage id=\"home.declarative\" />\n                  <button className=\"help-link\" data-cp-help-dock data-cp-faq-id=\"67\">?</button>\n                </h3>\n                <p><FormattedMessage id=\"home.declarative.p1\" /></p>\n              </div>\n            </div>\n          </section>\n\n          <FAQDemo/>\n\n          <hr/>\n          <Router basename=\"/react-faq\">\n            <ul>\n              <li>\n                <Link to=\"/\"><FormattedMessage id=\"home.link.home\"/></Link>\n              </li>\n              <li>\n                <Link to=\"/demo\"><FormattedMessage id=\"home.link.demo\"/></Link>\n              </li>\n              <li>\n                <Link to=\"/demo2\"><FormattedMessage id=\"home.link.demo2\"/></Link>\n              </li>\n            </ul>\n\n            <Switch>\n              {createRoutesConfig(intl.locale).map(route => (\n                  <InterceptorRoute\n                    key={route.path}\n                    {...route}\n                    loadContext={loadContext}\n                    loading={() => <Loading/> }\n                   />\n                )\n              )}\n            </Switch>\n          </Router>\n        </div>\n\n    </RawIntlProvider>\n    )\n  }\n}\n\nexport default App;\n","\n\nconst getDefaultLang = () => {\n  let lang = window.navigator.languages\n    ? window.navigator.languages[0]\n    : null;\n  lang =\n    lang ||\n    window.navigator.language ||\n    window.navigator.browserLanguage ||\n    window.navigator.userLanguage;\n\n  let shortLang = lang;\n  if (shortLang.indexOf('-') !== -1) shortLang = shortLang.split('-')[0];\n\n  if (shortLang.indexOf('_') !== -1) shortLang = shortLang.split('_')[0];\n\n  console.log(lang, shortLang);\n  return shortLang;\n};\n\nexport {\n  getDefaultLang\n}","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}
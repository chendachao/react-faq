{"version":3,"sources":["app/components/Home.js","../../src/FAQDock.js","../../src/FAQ.js","../../src/FAQList.js","../../src/FAQContent.js","../../src/FAQContainer.js","../../src/hooks/useEventListener.js","app/components/FAQDemo.js","InterceptorRoute.js","App.js","app/utils/index.js","index.js"],"names":["Home","id","fmt","constructor","defaultDockConfig","isVisible","dimMode","size","dockStyle","top","bottom","height","padding","data","props","this","children","position","fluid","dimStyle","background","onSizeChange","onVisibleChange","handleVisibleChange","onClick","className","styles","helpDockCloseIcon","class","width","d","fill-rule","FAQ","isNode","handleOnClick","e","nestedFAQs","faq","key","type","cpHelpListItem","cpHelpCategoryTitle","href","classNames","helpDockSprite","cpHelpCategoryIcon","active","cpHelpUl","FAQList","FAQContent","goBack","cpHelpGoBackText","isLoadingContent","style","marginBottom","dangerouslySetInnerHTML","__html","marked","FAQContainer","title","loadChildren","loadContent","helpDockRef","useRef","useState","faqs","setFaqs","currentNode","setCurrentNode","setIsLoadingContent","useEffect","target","listener","currentTarget","useEventListener","document","cpFaqId","openHelpDock","toggleActivity","items","newItem","item","canActive","hasActiveNode","child","acc","toggleNode","newFAQs","lazyLoadPossibleContent","content","nodes","tempArr","findNodeById","activeItem","ref","cpHelpContainer","cpHelpTitleT","args","console","preFAQs","FAQDemo","setData","a","setTimeout","getFAQs","url","axios","get","response","log","InterceptorRoute","loadContext","loading","route","location","useLocation","context","setContext","locationChanged","setLocationChange","pathname","config","name","path","exact","render","component","routes","Loading","getI18nMessages","lang","initialLocale","window","navigator","languages","shortLang","language","browserLanguage","userLanguage","indexOf","split","getDefaultLang","label","cache","createIntlCache","intl","createIntl","locale","messages","formatMessage","updateIntl","documentElement","lazyLoadComponent","Lodable","fallback","App","state","setState","changeLanguage","newLocale","value","textAlign","defaultValue","onChange","event","map","values","data-cp-help-dock","data-cp-faq-id","to","createRoutesConfig","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.049bfa25.chunk.js","sourcesContent":["import React from 'react';\nimport { FormattedMessage } from \"react-intl\";\nimport { fmt } from \"../../App\";\n\nfunction Home() {\n  return (\n    <div>\n      <h2><FormattedMessage id=\"home.title\" /></h2>\n      <p>{fmt({id: \"home.declarative.p1\"})}</p>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport Dock from \"react-dock\";\n\nimport styles from './styles.scss';\n\nclass FAQDock extends Component {\n  defaultDockConfig = {\n    isVisible: false,\n    dimMode: 'opaque',\n    size: 300,\n    dockStyle: {\n      top: 'auto',\n      bottom: 0,\n      height: '60%',\n      padding: '6px'\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      ...this.defaultDockConfig,\n      isVisible: props.isVisible,\n      // dimMode: 'none',\n    }\n\n  }\n\n  render() {\n    const {isVisible, dimMode, size, dockStyle} = this.state;\n    const {children} = this.props;\n    return (\n      <Dock position='right'\n        isVisible={isVisible}\n        dimMode={dimMode}\n        fluid={false}\n        size={size}\n        dimStyle={{ background: 'transparent' }}\n        dockStyle={dockStyle}\n        onSizeChange={this.handleSizeChange}\n        onVisibleChange={this.handleVisibleChange}\n      >\n        <span onClick={() => this.setState({ isVisible: !isVisible })}>\n          <button className={styles.helpDockCloseIcon}>\n            <svg class=\"x-29px_svg__svgIcon-use\" width=\"29\" height=\"29\"><path d=\"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62\" fill-rule=\"evenodd\"></path></svg>\n          </button>\n        </span>\n        {children}\n      </Dock>\n    );\n  }\n\n  handleVisibleChange = isVisible => {\n    this.setState({ isVisible });\n  }\n\n  handleSizeChange = size => {\n    this.setState({ size });\n  }\n\n}\n\nexport default FAQDock;\n\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './styles.scss';\n\nfunction FAQ({faq, onClick, isNode}) {\n\n  const handleOnClick = (e, ...args) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onClick(...args);\n  }\n\n  const nestedFAQs = (faq.children || []).map(faq => {\n    return <FAQ key={faq.id} faq={faq} onClick={onClick} isNode={isNode} type=\"child\"/>\n  })\n\n  // v^\n  return (\n    // <li style={{marginLeft: \"25px\", marginTop: \"10px\"}}>\n    <li className={styles.cpHelpListItem}>\n      <div className={styles.cpHelpCategoryTitle}>\n        <a href=\"#\" className={styles.cpHelpCategoryText} onClick={(e) => handleOnClick(e, faq)}>{faq.label} {faq.id}\n          <span\n            className={\n              classNames({\n                [`${styles.helpDockSprite} ${styles.cpHelpCategoryIcon} ${styles.cpHelpCategoryIconUp}`]: !isNode(faq) && faq.active,\n                [`${styles.helpDockSprite} ${styles.cpHelpCategoryIcon} ${styles.cpHelpCategoryIconDown}`]: !isNode(faq) && !faq.active,\n              })\n            }>\n          </span>\n        </a>\n      </div>\n\n      {\n        faq.active && faq.children && faq.children.length === 0 &&\n          \"No content\"\n      }\n\n      {faq.active &&\n        <ul className={styles.cpHelpUl}>\n          {nestedFAQs}\n        </ul>\n      }\n    </li>\n  )\n\n}\n\nexport default FAQ;\n\n","import React from 'react';\nimport FAQ from \"./FAQ\";\n\nimport styles from './styles.scss';\n\nfunction FAQList({data = [], onClick, isNode}) {\n  return (\n    <ul className={styles.cpHelpUl}>\n      {\n        data.map(faq => {\n          return (\n            <FAQ key={faq.id} faq={faq} onClick={onClick} isNode={isNode}/>\n          )\n        })\n      }\n    </ul>\n  )\n\n}\n\nexport default FAQList;\n\n","import React from 'react';\nimport marked from 'marked';\n\nimport styles from './styles.scss';\n\nfunction FAQContent({faq, isLoadingContent, goBack}) {\n  return (\n    <div>\n      <div className={styles.cpHelpGoBack} onClick={goBack}>\n        <span className={styles.cpHelpGoBackArrow + ' ' + styles.helpDockSprite}></span>\n        <span className={styles.cpHelpGoBackText}>\n          Go back\n        </span>\n      </div>\n      {\n        !isLoadingContent && !faq.children && !faq.content && \"No content\"\n      }\n      {\n        isLoadingContent ? <div>Loading...</div>\n        : faq.content && <div style={{marginBottom: \"10px\"}} dangerouslySetInnerHTML={{__html: marked.parse(faq.content)}}></div>\n      }\n    </div>\n  )\n}\n\n\n\nexport default FAQContent;\n\n","import React, {useState, useEffect, useRef} from 'react';\nimport FAQDock from \"./FAQDock\";\nimport FAQList from \"./FAQList\";\nimport FAQContent from \"./FAQContent\";\nimport { useEventListener } from \"./hooks\";\n\nimport styles from './styles.scss';\n\nfunction FAQContainer({data, title, loadChildren, loadContent}) {\n\n  let helpDockRef = useRef();\n  const [faqs, setFaqs] = useState([]);\n  const [currentNode, setCurrentNode] = useState();\n  const [isLoadingContent, setIsLoadingContent] = useState(false);\n\n  useEffect(() => {\n    setFaqs(data);\n  }, [data]);\n\n  useEventListener(document, \"click\", e => {\n    const {target} = e;\n\n    // const isHanlder = target.classList.contains('cp-help') && target.classList.contains('cp-help-link');;\n    const isHanlder = target.hasAttribute('data-cp-help-dock');\n\n    if(isHanlder) {\n      const cpFaqId = target.getAttribute('data-cp-faq-id');\n      openHelpDock(+cpFaqId);\n    }\n  });\n\n  const isNode = (faq) => {\n    return faq && !faq.children;\n  }\n\n  const hasActiveNode = (children) => {\n    return children.some(child => {\n      if(isNode(child)) {\n        return child.active === true;\n      } else {\n        return hasActiveNode(child.children);\n      }\n    });\n  }\n\n  // active/deactive item recursively\n  const toggleActivity = (id, items, active /*default*/) => {\n    return items.reduce((acc, item) => {\n      let newItem = item;\n      if(item.id === id) {\n        newItem = {\n          ...item,\n          active: !item.active || active\n        }\n      } else if(item.children) {\n        item.children = toggleActivity(id, item.children, active);\n        const canActive = hasActiveNode(item.children);\n        canActive && (item.active = canActive);\n      }\n      acc.push(newItem);\n      return acc;\n    }, []);\n  }\n\n  const findNodeById = (id, nodes) => {\n    const tempArr = [...nodes];\n    while (tempArr.length > 0) {\n      const item = tempArr.shift();\n      if (item.id === id) {\n        return item;\n      } else if (item.children) {\n        tempArr.push(...item.children);\n      }\n    }\n    return null;\n  };\n\n  const toggleNode = (id, active) => {\n    const newFAQs = toggleActivity(id, faqs, active);\n    setFaqs(newFAQs);\n  }\n\n  const activeItem = (id) => {\n    toggleNode(id, true);\n  }\n\n  const lazyLoadPossibleContent = async (item) => {\n    if(loadContent) {\n      setIsLoadingContent(true);\n      const content = await loadContent(item.id);\n      setIsLoadingContent(false);\n      item = {\n        ...item,\n        content\n      };\n    }\n    return item;\n  }\n\n  const openHelpDock = async (id) => {\n    helpDockRef.setState({ isVisible: true });\n    const item = findNodeById(id, faqs);\n    if(!item) {\n      setCurrentNode({\n        id: '0000',\n        content: `<div style=\"text-align: center;\">Can't find item.</div>`\n      });\n    } else if(isNode(item)) {\n      let newFaq = await lazyLoadPossibleContent(item);\n      setCurrentNode(newFaq);\n    } else {\n      activeItem(id);\n    }\n  }\n\n  const goBack = () => {\n    setCurrentNode(null);\n  }\n\n  const handleOnClick = async (...args) => {\n    const [faq] = args;\n    if(!faq.children) { // node\n      let newFaq = await lazyLoadPossibleContent(faq);\n      setCurrentNode(newFaq);\n    } else {\n      // load children\n      if(loadChildren) {\n        const children = await loadChildren(faq.id);\n        console.log('children', children);\n        faq.children = children;\n        setFaqs(preFAQs => ([...preFAQs]));\n      }\n      toggleNode(faq.id);\n    }\n  }\n\n  return (\n    <FAQDock ref={e => helpDockRef = e} isVisible={false}>\n      <div className={styles.cpHelpContainer}>\n        <h3 className={styles.cpHelpTitleT}>{title || 'FAQ Dock'}</h3>\n        {\n          isNode(currentNode) ? <FAQContent faq={currentNode} goBack={goBack} isLoadingContent={isLoadingContent}/>\n          : (faqs.length === 0) ? <div>Loading...</div>\n          : <FAQList\n              data={faqs}\n              onClick={handleOnClick}\n              isNode={isNode}\n            />\n        }\n      </div>\n    </FAQDock>\n  )\n}\n\nexport default FAQContainer;\n\n","import { useEffect } from 'react';\n\n// https://dev.to/adrianbdesigns/custom-react-hooks-useeventlistener-1kp\nexport const useEventListener = (target, type, listener, ...options) => {\n  useEffect(\n    () => {\n      const targetIsRef = target.hasOwnProperty(\"current\");\n      const currentTarget = targetIsRef ? target.current : target;\n      if (currentTarget)\n        currentTarget.addEventListener(type, listener, ...options);\n      return () => {\n        if (currentTarget)\n          currentTarget.removeEventListener(type, listener, ...options);\n      };\n    },\n    [target, type, listener, options]\n  );\n};\n\n\n\n","import React, {useState, useEffect} from 'react';\nimport axios from \"axios\";\n\nimport {FAQContainer} from 'react-faq';\n\nfunction FAQDemo() {\n\n  const [data, setData] = useState([]);\n\n   // load data at first mount\n   useEffect(() => {\n    (async () => {\n      setTimeout(async () => {\n        const data = await getFAQs();\n        setData(data);\n      }, 2000);\n    })();\n  }, []);\n\n  const getFAQs = async (url = '/assets/data/en/faqs.json') => {\n    const response = await axios.get(url);\n    return response.data;\n  }\n\n  const loadChildren = async (id) => {\n    console.log('id', id);\n    const url = '/assets/data/en/faqs-children.json';\n    const children = await getFAQs(url);\n    return children;\n  }\n\n  const loadContent = async (id) => {\n    console.log('id', id);\n    const url = '/assets/data/en/faq-content.json';\n    const data = await getFAQs(url);\n    return data.content;\n  }\n\n  return (\n    <span>\n\n      <div className=\"cp-help-container\">\n        <h3 className=\"cp-help-title\">FAQ Dock</h3>\n        <ul className=\"cp-help-ul\">\n          <li className=\"cp-help-list-item\">\n            <div className=\"cp-help-category-title\">\n              <a className=\"cp-help-category-text\" href=\"#\">text\n                <span className=\"cp-help-category-icon cp-help-category-icon-up\"></span>\n              </a>\n            </div>\n            <ul className=\"cp-help-ul\">\n              <li className=\"cp-help-list-item\">\n                <div className=\"cp-help-category-title\">\n                  <a className=\"cp-help-category-text\" href=\"#\">sub text\n                    <span className=\"cp-help-category-icon cp-help-category-icon-up\"></span>\n                  </a>\n                </div>\n              </li>\n            </ul>\n          </li>\n          <li className=\"cp-help-list-item\">\n            <div className=\"cp-help-category-title\">\n              <a className=\"cp-help-category-text\" href=\"#\">text\n                <span className=\"cp-help-category-icon cp-help-category-icon-up\"></span>\n              </a>\n            </div>\n            <ul className=\"cp-help-ul\">\n              <li className=\"cp-help-list-item\">\n                <div className=\"cp-help-category-title\">\n                  <a className=\"cp-help-category-text\" href=\"#\">sub text\n                    <span className=\"cp-help-category-icon cp-help-category-icon-up\"></span>\n                  </a>\n                </div>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n\n      <FAQContainer data={data} loadContent={loadContent}/>\n    </span>\n  )\n\n}\n\nexport default FAQDemo;\n","import React, {useEffect, useState} from 'react';\nimport { Route, useLocation } from 'react-router-dom';\n\nfunction InterceptorRoute({loadContext, loading, ...route}) {\n\n  const location = useLocation();\n  const [context, setContext] = useState();\n\n  const [locationChanged, setLocationChange] = useState(false);\n\n  useEffect(() => {\n    console.log('location changed to', location.pathname);\n    (async () => {\n      // setTimeout(async () => {\n        const {config} = route;\n        if (config) {\n          const {url, name} = config;\n          if(loadContext) {\n            const data = await loadContext(url, name, location.pathname);\n            setContext({\n              context: data\n            });\n          }\n        }\n      // }, 1000);\n\n      setLocationChange(false);\n      setTimeout(() => {\n        setLocationChange(true);\n      }, 1000);\n\n    })();\n  }, [location.pathname]);\n\n  return (\n    <div>\n      <Route \n          path={route.path}\n          exact={route.exact}\n          render={props => {\n            if(route.config && !context) {\n              return loading();\n            }\n            return (\n              <route.component {...props} {...context} \n                routes={route.routes} \n                locationChanged={locationChanged}/>\n            )\n          }}\n      />\n    </div>\n  )\n}\n\nexport default InterceptorRoute;\n","// import React from 'react'\n\n// import { ExampleComponent } from 'react-faq'\n// import 'react-faq/dist/index.css'\n\n// const App = () => {\n//   return <ExampleComponent text=\"Create React Library Example 😄\" />\n// }\n\n// export default App\n\nimport './App.css';\nimport 'react-faq/dist/index.css'\n\nimport React, { useState, useEffect }  from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Link,\n} from 'react-router-dom';\n\nimport {\n  createIntl,\n  createIntlCache,\n  RawIntlProvider,\n  FormattedMessage,\n} from 'react-intl';\nimport axios from 'axios';\n\nimport Lodable from \"@loadable/component\";\nimport Home from './app/components/Home';\nimport FAQDemo from \"./app/components/FAQDemo\";\nimport InterceptorRoute from \"./InterceptorRoute\";\nimport { getDefaultLang } from \"./app/utils\";\n\nexport function Loading() {\n  return <div><FormattedMessage id=\"loading.message\"/>...</div>\n}\n\nconst getI18nMessages = async lang => {\n  const url = `/assets/locales/${lang}.json`;\n  const response = await axios.get(url);\n  // console.log('data', response.data);\n  return response.data;\n};\n\nconst initialLocale = getDefaultLang() || 'en';\n\nconst languages = [\n  {\n    key: 'en',\n    label: 'English',\n  },\n  {\n    key: 'zh',\n    label: 'Chinese',\n  },\n];\n\nexport const cache = createIntlCache();\n\n/** You can use this variable in other files even after reassigning it. */\nexport let intl = createIntl(\n  {locale: initialLocale, messages: ''},\n  cache\n)\n\nexport let fmt = intl.formatMessage;\n\nconst updateIntl = (locale, messages) => {\n  intl = createIntl(\n    {locale, messages},\n    cache\n  )\n  fmt = intl.formatMessage;\n  document.documentElement.lang = locale;\n}\n\nconst lazyLoadComponent = component =>\n  Lodable(() => component, {\n    fallback: <Loading/>\n  })\n\nconst createRoutesConfig = (locale) => {\n  const routes = [\n    {\n      path: '/',\n      exact: true,\n      component: Home,\n    },\n    {\n      path: '/demo',\n      component: lazyLoadComponent(import('./app/components/Demo')),\n      config: {\n        url: `/assets/data/${locale}/demo.json`,\n        name: 'Demo'\n      }\n    },\n    {\n      path: '/demo2',\n      component: lazyLoadComponent(import('./app/components/Demo2')),\n      config: {\n        url: `/assets/data/${locale}/demo2.json`,\n        name: 'Demo2'\n      }\n    },\n  ];\n  return routes;\n}\n\nfunction App() {\n\n   // You could use redux to get the locale or get it from the url.\n   const [state, setState] = useState({\n    locale: initialLocale,\n    messages: ''\n  });\n  const { locale, messages } = state;\n\n  // first update\n  useEffect(() => {\n    (async () => {\n      const messages = await getI18nMessages(initialLocale)\n      updateIntl(initialLocale, messages);\n      setState({\n        ...state,\n        locale: initialLocale,\n        messages,\n      });\n    })();\n  }, []);\n\n  const changeLanguage = async newLocale => {\n    console.log('change language to', newLocale);\n    const messages = await getI18nMessages(newLocale);\n    updateIntl(newLocale, messages);\n    setState({\n      ...state,\n      locale: newLocale,\n      messages,\n    });\n  };\n\n  const loadContext = async (url, component, path) => {\n    const response = await axios.get(url);\n    return response.data;\n  }\n\n  if(!messages) {\n    return <div>Loading i18n...</div>;\n  } else {\n    return (\n      <RawIntlProvider value={intl}>\n        <div style={{ textAlign: 'right' }}>\n          <select\n            name=\"locale\"\n            id=\"locale\"\n            defaultValue={locale}\n            onChange={event => changeLanguage(event.target.value)}>\n            {languages.map(lang => (\n              <option key={lang.key} value={lang.key}>\n                {lang.label}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n\n          <section>\n            <div>\n              <div>\n                <h2><FormattedMessage id=\"home.welcome\" values={{name: 'React.js'}} /></h2>\n                <h3><FormattedMessage id=\"home.declarative\" />\n                  <button className=\"help-link\" data-cp-help-dock data-cp-faq-id=\"67\">?</button>\n                </h3>\n                <p><FormattedMessage id=\"home.declarative.p1\" /></p>\n              </div>\n            </div>\n          </section>\n\n          <FAQDemo/>\n\n          <hr/>\n          <Router>\n            <ul>\n              <li>\n                <Link to=\"/\"><FormattedMessage id=\"home.link.home\"/></Link>\n              </li>\n              <li>\n                <Link to=\"/demo\"><FormattedMessage id=\"home.link.demo\"/></Link>\n              </li>\n              <li>\n                <Link to=\"/demo2\"><FormattedMessage id=\"home.link.demo2\"/></Link>\n              </li>\n            </ul>\n\n            <Switch>\n              {createRoutesConfig(intl.locale).map(route => (\n                  <InterceptorRoute\n                    key={route.path}\n                    {...route}\n                    loadContext={loadContext}\n                    loading={() => <Loading/> }\n                   />\n                )\n              )}\n            </Switch>\n          </Router>\n        </div>\n\n    </RawIntlProvider>\n    )\n  }\n}\n\nexport default App;\n","\n\nconst getDefaultLang = () => {\n  let lang = window.navigator.languages\n    ? window.navigator.languages[0]\n    : null;\n  lang =\n    lang ||\n    window.navigator.language ||\n    window.navigator.browserLanguage ||\n    window.navigator.userLanguage;\n\n  let shortLang = lang;\n  if (shortLang.indexOf('-') !== -1) shortLang = shortLang.split('-')[0];\n\n  if (shortLang.indexOf('_') !== -1) shortLang = shortLang.split('_')[0];\n\n  console.log(lang, shortLang);\n  return shortLang;\n};\n\nexport {\n  getDefaultLang\n}","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}